#include(*) $lng/usu_clave.edf.lng
[Title]=PASSWORD DEVELOPMENT
[Button]a|[setup] Develop
[Fields]
|pass|#|P|60|220|M||'#'.length>=@|@LongitudMinima@
Â¿ file_exists("../tree/__personal.".$_SESSION["_UserEMail"]) ? <Load TreePersonal|TreePersonal|#|C|1||M|||
[JSCheck]a
if( _ErrMensaje=='' ){
document.cookie = "eDesPassword="+document.FRM1.pass.value+";max-age="+(60*60*24*30)+";";
}
[JSEnd]a
if( S.is("eDesPassword=", document.cookie) ){
ePF("pass", S.mid(document.cookie+";", "eDesPassword=",";"));
setTimeout(function(){eSubmit();}, 100);
}
[JSIni]a
S(window).windowColor("#bd454b", "#ffffff", "#ec8084", "#ffffff");
[DBIni]A
include(eScript('$t/lp.gs'));
if( isset($_SESSION["_gsACCESO"]['EMAIL']) ){
SS::query("select user_name from {$_ENV['SYSDB']}gs_user", ["cd_gs_user" => $_SESSION["_User"]]);
list($nmUser) = SS::get("num");
LeerLP($_SESSION["_gsACCESO"]['EMAIL'], $_POST['pass'], $_gsMaster, $NumBak, $nmUser);
}else{
SS::query("select user_name from {$_ENV['SYSDB']}gs_user", ["cd_gs_user" => S::$_User]);
list($nmUser) = SS::get("num");
LeerLP($_SESSION["_UserEMail"], $_POST['pass'], $_gsMaster, $NumBak, $nmUser);
}
SS::free();
$_SESSION["_Development"] = ($_gsMaster!='');
if( $_gsMaster!='' ){
$_SESSION["_D_"] = $_gsMaster;
$_SESSION['_P_'] = $_POST['pass'];
$_SESSION['_L_'] = $_SESSION["_gsACCESO"]['LOGIN'];
if( $_SESSION["_gsACCESO"]['LOGEAR'] ) gsLogear('FW', 'S', '');
if( $_SESSION["_gsACCESO"]['ACCESO']>=1 && $_SESSION["_gsACCESO"]['Edit']>=1 ){
include(DIREDES."t/developer.js");
}
if( file_exists("../_d_/{$_User}.dvl") ){
include("../_d_/{$_User}.dvl");
$_SESSION["_gsDirAccess"] = $_gsDirAccess;
}
$cargar = "";
if( $_POST["TreePersonal"]==$_ENV['ON'] ) $cargar .= 'document.cookie="eDesTreePersonal=S;max-age='.(60*60*24*30).';";';
if( $_gsMaster=="~" ) 			  		  $cargar .= 'document.cookie="eDesTreeSystem=S;max-age='.(60*60*24*30).';";';
$dimLanguage = "";
if( SS::count("{$_ENV['SYSDB']}gs_language", ["tf_translation" => $_ENV['ON']]) > 1 ){
$dimLanguage = "if(S('#arSTOOLS',top).length>0){S('#eIDIOMA','#arSTOOLS',top).text('".$_SESSION["_LANGUAGE_"]."'); S('#eIDIOMA','#arSTOOLS',top).block('table-cell');} top['_DimLanguage']=[['-Idioma']";
SS::query("select * from {$_ENV['SYSDB']}gs_language where tf_translation={{tf_translation}} order by nm_gs_language",
["tf_translation" => $_ENV['ON']]
);
while( $r = SS::get() ){
$dimLanguage .= ",['{$r['nm_gs_language']}','','{$r['cd_gs_language']}'";
if( $r['cd_gs_language']==$_SESSION["_LANGUAGE_"] ){
$dimLanguage .= ",null,null,'font-weight:bold']";
}else{
$dimLanguage .= ",null,null,null]";
}
}
$dimLanguage .= "];";
}
$para = filemtime(DIREDES.'t/developer.js');
eMessage("Active Development", "HSC", 0, $dimLanguage.'S.script(top,"$t/developer.js&j='.$para.'");'.$cargar);
}else{
eMessage("No Development", "HSC", 0);
}
[Sanitize]
LoginPC = int
LoginSRV = int
[CallSrv]LoginPC
eInit();
if( $_GET["LoginPC"]!="34" ){
}else{
include(DIREDES.'_e.js');
echo "\n";
?>
S.call("edes.php?E:CallSrv=$a/d/development.edf&LoginSRV=43", {
pass:_e_(
S.mid(
document.cookie+";"
,"eDesPassword="
,";"
)
).toUpperCase()
});
<?PHP
}
eEnd();
[CallSrv]LoginSRV
eInit();
if( $_GET["LoginSRV"]!="43" ){
}else{
include(eScript('$t/lp.gs'));
if( isset($_SESSION["_gsACCESO"]['EMAIL']) ){
SS::query("select user_name from {$_ENV['SYSDB']}gs_user", ["cd_gs_user" => $_SESSION["_User"]]);
list($nmUser) = SS::get("num");
LeerLP($_SESSION["_gsACCESO"]['EMAIL'], $_POST['pass'], $_gsMaster, $NumBak, $nmUser);
}else{
SS::query("select user_name from {$_ENV['SYSDB']}gs_user", ["cd_gs_user" => S::$_User]);
list($nmUser) = SS::get("num");
LeerLP($_SESSION["_UserEMail"], $_POST['pass'], $_gsMaster, $NumBak, $nmUser);
}
SS::free();
if( $_gsMaster!='' ){
$_SESSION["_Development"] = true;
$_SESSION["_D_"] = $_gsMaster;
$_SESSION['_P_'] = $_POST['pass'];
$_SESSION['_L_'] = $_SESSION["_gsACCESO"]['LOGIN'];
if( $_SESSION["_gsACCESO"]['LOGEAR'] ) gsLogear('FW', 'S', '');
if( $_SESSION["_gsACCESO"]['ACCESO']>=1 && $_SESSION["_gsACCESO"]['Edit']>=1 ){
include(DIREDES."t/developer.js");
}
?>
S.script(top, '$t/developer.js');
<?PHP
$dimLanguage = "";
if( SS::count("{$_ENV['SYSDB']}gs_language", ["tf_translation" => $_ENV['ON']]) > 1 ){
$dimLanguage = "if(S('#arSTOOLS',top).length>0){S('#eIDIOMA','#arSTOOLS',top).text('".$_SESSION["_LANGUAGE_"]."'); S('#eIDIOMA','#arSTOOLS',top).block('table-cell');} top['_DimLanguage']=[['-Idioma']";
SS::query("select * from {$_ENV['SYSDB']}gs_language where tf_translation={{tf_translation}} order by nm_gs_language",
["tf_translation" => $_ENV['ON']]
);
while( $r = SS::get() ){
$dimLanguage .= ",['{$r['nm_gs_language']}','','{$r['cd_gs_language']}'";
if( $r['cd_gs_language']==$_SESSION["_LANGUAGE_"] ){
$dimLanguage .= ",null,null,'font-weight:bold']";
}else{
$dimLanguage .= ",null,null,null]";
}
}
$dimLanguage .= "];";
}
echo $dimLanguage;
}else{
}
}
eEnd();